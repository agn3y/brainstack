# APACHE AUTHENTICATION (BASIC AUTH)

# OBJECTIVE

- SET UP PASSWORD PROTECTION FOR A WEBSITE OR DIRECTORY USING **BASIC AUTHENTICATION** IN APACHE.

# STEP 1: OPEN APACHE CONFIG

- EDIT THE DEFAULT VIRTUAL HOST CONFIG FILE:

$ SUDO NANO /ETC/APACHE2/SITES-ENABLED/000-DEFAULT.CONF

INSIDE THE `<VIRTUALHOST>` BLOCK, **BELOW `DOCUMENTROOT`**, ADD:


<Directory "/var/www/html">
    AuthType Basic
    AuthName "No Unauthorized Access"     # Message shown in login prompt
    AuthUserFile /etc/apache2/mycreds     # File storing username/password
    Require valid-user
</Directory>


# STEP 2: CREATE THE CREDENTIALS FILE

USE `HTPASSWD` TO CREATE A NEW FILE AND ADD A USER:

$ SUDO HTPASSWD -C /ETC/APACHE2/MYCREDS TESTUSER

IT WILL ASK FOR A PASSWORD. THIS USERNAME/PASSWORD WILL BE REQUIRED TO ACCESS THE SITE.

# STEP 3: RELOAD APACHE

APPLY CHANGES:

$ SUDO SYSTEMCTL RELOAD APACHE2

NOW THE DIRECTORY `/VAR/WWW/HTML` IS PROTECTED. YOUâ€™LL BE ASKED TO LOG IN WHEN ACCESSING IT VIA BROWSER.

# PROTECT A SPECIFIC PATH INSTEAD
# TO PROTECT A SPECIFIC FOLDER (LIKE `/VAR/WWW/XYZ`), UPDATE THE `<DIRECTORY>` LIKE THIS:

<Directory "/var/www/xyz">
    AuthType Basic
    AuthName "Restricted Area"
    AuthUserFile /etc/apache2/mycreds
    Require valid-user
</Directory>
